#! /usr/bin/bash

docker run --rm -p 4567:4567 \ 
-e FRONTEND_URL="https://3000-${GITPOD_WORKSPACE_ID}.${GITPOD_WORKSPACE_CLUSTER_HOST}" \ 
-e BACKEND_URL="https://4567-${GITPOD_WORKSPACE_ID}.${GITPOD_WORKSPACE_CLUSTER_HOST}" \ 
-e AWS_ENDPOINT_URL="https://dynamodb-local:8000" \ 
-e CONNECTION_URL="${CONNECTION_URL}" \ 
-e URL_PROD="${URL_PROD}" \ 
-e DB_NAME_PROD="${DB_NAME_PROD}" \ 
-e OTEL_SERVICE_NAME="backend-flask" \ 
-e OTEL_EXPORTER_OTLP_ENDPOINT="https://api.honeycomb.io" \ 
-e OTEL_EXPORTER_OTLP_HEADERS="x-honeycomb-team=${HONEYCOMB_API_KEY}" \ 
-e AWS_XRAY_URL="*4567-${GITPOD_WORKSPACE_ID}.${GITPOD_WORKSPACE_CLUSTER_HOST}*" \ 
-e AWS_XRAY_DAEMON_ADDRESS="xray-daemon:2000" \ 
-e AWS_DEFAULT_REGION="${AWS_DEFAULT_REGION}" \ 
-e AWS_ACCESS_KEY_ID="${AWS_ACCESS_KEY_ID}" \ 
-e AWS_SECRET_ACCESS_KEY="${AWS_SECRET_ACCESS_KEY}" \ 
-e ROLLBAR_ACCESS_TOKEN="${ROLLBAR_ACCESS_TOKEN}" \ 
-e HONEYCOMB_API_KEY="${HONEYCOMB_API_KEY}" \ 
-e HONEYCOMB_SERVICE_NAME="cruddur" \ 
-e AWS_COGNITO_USER_POOL_ID="${AWS_COGNITO_USER_POOL_ID}" \ 
-e AWS_COGNITO_USER_POOL_CLIENT_ID="${AWS_COGNITO_USER_POOL_CLIENT_ID}" \ 
-e AWS_DYNAMODB_TABLE="${AWS_DYNAMODB_TABLE}" \ 
-it backend-flask-prod 